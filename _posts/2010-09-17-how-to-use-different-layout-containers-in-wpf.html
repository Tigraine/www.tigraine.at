---
layout: post
title: "How to use different layout containers in WPF"
guid: http://www.tigraine.at/2010/09/17/how-to-use-different-layout-containers-in-wpf/
postid: 938
categories:
- net
- programmierung
- wpf
---
<p>WPF is different, that much I knew before I started learning it. But understanding really how different it is really takes a lot of time and effort. Especially when used to Windows Forms and HTML+CSS, WPF feels very alien in it’s way how to do layout. Here is what I learned:</p>  <p><strong>StackPanel:</strong></p>  <p>StackPanels are used to layout elements horizontally stacked onto each other. </p>  <p><a href="http://www.tigraine.at/wp-content/uploads/2010/09/image7.png"><img style="background-image: none; border-right-width: 0px; margin: 0px 10px 3px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://www.tigraine.at/wp-content/uploads/2010/09/image_thumb6.png" width="318" height="171" /></a></p>  <p>By default the elements inside a StackPanel will take up their set height and you can make them fill the whole width by setting their <em>VerticalAlignment</em> to <em>Stretch</em></p>  <p>They will however never fill the full height of the container when it is resized, no matter how your <em>HorizontalAlign </em>property is set. If the above container got resized in height the buttons would still stick to the top with their individual heights staying just the same.</p>  <p><strong>WrapPanel:</strong></p>  <p>They are the same as the StackPanel, just in vertical. They stack elements vertically and reorder them if there is no more space vertically. However they also don’t allow them to fill the vertical space available to the control.</p>  <p><a href="http://www.tigraine.at/wp-content/uploads/2010/09/image8.png"><img style="background-image: none; border-right-width: 0px; margin: 0px 10px 3px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://www.tigraine.at/wp-content/uploads/2010/09/image_thumb7.png" width="216" height="166" /></a></p>  <p><strong>The Dockpanel:</strong></p>  <p>Where both WrapPanel and StackPanel don’t allow Elements to fill vertical space (even with HorizontalAlignment to Stretch) the DockPanel will do just that by default:</p>  <p><a href="http://www.tigraine.at/wp-content/uploads/2010/09/image9.png"><img style="background-image: none; border-right-width: 0px; margin: 0px 10px 3px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://www.tigraine.at/wp-content/uploads/2010/09/image_thumb8.png" width="244" height="153" /></a></p>  <p>The trick here is that only the last child really fills the panel, so while resizing the height will resize all 3 buttons, a horizontal resize will only cause the third button to change size. This has to do with the LastChildFill property, where Button3 is considered the filling element. </p>  <p>Why am I telling you this? Well, turns out most UIs look something like this:</p>  <p>Some header, then one filling list that should resize and then some controls around the edges. Making the list resize with the parent container can’t be achieved by the other panels at all. You have to use a DockPanel and use the DockPanel.Dock attributes on your child controls:</p>  
{% highlight xml %}
<DockPanel Margin="0,0,0,0">
	<TextBlock DockPanel.Dock="Top" Text="Hello World" />
	<TextBlock DockPanel.Dock="Bottom" Text="Bottom" />
	<Button Content="Button3"></Button>
</DockPanel>

{% endhighlight %}

<p>This will make the last element fill all available space left by the elements that where docked to the sides like this:</p>

<p><a href="http://www.tigraine.at/wp-content/uploads/2010/09/image10.png"><img style="background-image: none; border-right-width: 0px; margin: 0px 10px 3px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://www.tigraine.at/wp-content/uploads/2010/09/image_thumb9.png" width="248" height="155" /></a></p>

<p>Once you understand these three layout concepts, you can build pretty much everything by nesting panels within each other. There is however also the GridPanel that lends itself very well to creating forms and other stuff that has to be aligned on a grid. But I won’t go into that in this post (and I think it’s markup is just awful. HTML4 tables were more intuitive to write)</p>