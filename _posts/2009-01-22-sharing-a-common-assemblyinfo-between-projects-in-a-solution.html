---
layout: post
title: "Sharing a common AssemblyInfo between projects in a solution"
guid: http://www.tigraine.at/2009/01/22/sharing-a-common-assemblyinfo-between-projects-in-a-solution/
postid: 453
categories:
- net
---
<p>Since I’m doing more and more layering I also started to split up my layers into different projects so I can’t bypass any layer by accident.</p>  <p>This leads to solutions with 10+ projects sometimes (tests, setup, etc..) and that looks like this sometimes:</p>  <p><a href="http://www.tigraine.at/wp-content/uploads/2009/01/image6.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.tigraine.at/wp-content/uploads/2009/01/image-thumb6.png" width="295" height="166" /></a> </p>  <p>So, that’s great and I can only recommend that. You get much better view over what dependencies your application has internally. </p>  <p>But that leads to one problem: Versioning the assemblies.    <br />I don’t want to go through 10 projects changing AssemblyInfo.cs to correspond to the real version of my application. Since I only do the splitting into different projects to ease development, I always want all assemblies to have the same version. So, how to tackle this?</p>  <p>Simple: Create one master AssemblyInfo.cs (just copy one of the existing ones), and delete the others from the other projects. We want to re-insert the file, but this time as a link so changes to one AssemblyInfo.cs cause all projects to have a changed assembly information.</p>  <p><a href="http://www.tigraine.at/wp-content/uploads/2009/01/image7.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.tigraine.at/wp-content/uploads/2009/01/image-thumb7.png" width="685" height="546" /></a> </p>  <p>Yes, that’s right. There is a way to reference a file without copying it into the folder (well hidden behind that arrow there). </p>  <p>So, now the file shows up in the solution explorer twice, but changes will spread to other projects too:</p>  <p><a href="http://www.tigraine.at/wp-content/uploads/2009/01/image8.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.tigraine.at/wp-content/uploads/2009/01/image-thumb8.png" width="217" height="60" /></a>&#160;</p>  <p></p>  <p>When having a MSI project, it won’t update a referenced assembly during setup if there hasn’t been a change to it’s version number. So I ended up installing a new version of the GUI component while the changes in the controller assembly didn’t install because there was no increment in version number. Annoying, but not so much of a problem once you know how to handle it :).</p>