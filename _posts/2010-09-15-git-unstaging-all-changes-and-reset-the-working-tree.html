---
layout: post
title: "Git: Unstaging all changes and reset the working tree"
guid: http://www.tigraine.at/2010/09/15/git-unstaging-all-changes-and-reset-the-working-tree/
postid: 921
categories:
- programmierung
- git
---
<p>When you commit something to git you first have to stage (add to the index) your changes. This means you have to git add all the files you want to have included in this commit before git considers them part of the commit. To some this added complexity feels like a burden, but to me it’s a blessing.</p>  <p><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px 10px 3px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="git working dir / index / repository diagram" src="http://www.tigraine.at/wp-content/uploads/2010/09/image6.png" width="640" height="330" /></p>  <p>Ever forgot that you just did 2 distinct features that really should be in 2 different commits? Well, just add the changes of the first feature, commit, repeat for the second commit and you have everything organized the way you want it to show up in your history. </p>  <p>But: You usually don’t do individual <em>git add</em> commands anyway, if you are anything like me you just hit <em>git add –A </em>(adding all changes in the working directory) and while writing the commit message you realize that there are two files that should not go into this commit. But how do you remove something from the index? </p>  <p>Since you used <em>git add</em> to put them in the index it would be logical to use<em> git rm</em>? Wrong! <em>Git rm</em> will simply delete the file and add the deletion to the index. Meet: </p>  <p><strong><u>git reset </u></strong></p>  <p><font style="font-size: 10.5pt">As with all things in git, git reset can be used in a number of ways. So here is the most common usage in day to day usage:</font></p>  <p><strong>git reset</strong> : Clears your index, leaves your working directory untouched. (simply unstaging everything)</p>  <p><strong>git reset --hard</strong> : Clears your index, reverts all changes in your working directory to the last commit. (the same thing as svn revert would do)</p>